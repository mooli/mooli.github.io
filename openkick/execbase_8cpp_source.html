<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>openkick: exec/execbase.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">openkick
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_3503f86ebac7e9741312f92017d9530a.html">exec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">execbase.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="execbase_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// -*- mode: c++ -*-</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"></span><span class="preprocessor">#include &lt;<a class="code" href="execbase_8hpp.html">exec/execbase.hpp</a>&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="amiga_8hpp.html">hw/amiga.hpp</a>&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="new_8hpp.html">exec/new.hpp</a>&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="buffer_8hpp.html">exec/buffer.hpp</a>&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceexec.html">exec</a>;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">  extern const Resident resident;// __attribute__((section(&quot;.text.exec_resident&quot;)));</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">  const Resident resident = {</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">  Resident::MATCHWORD, &amp;resident, &quot;end of text&quot;, 0, 47, Node::NT_LIBRARY, -128,</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">  &quot;test.module&quot;, &quot;test ID&quot;, NULL</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">  };</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="classexec_1_1ExecBase.html#aaf686572c41f1802e7b36475ddc334bf">ExecBase::NAME</a>[] = <span class="stringliteral">&quot;exec.library&quot;</span>;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="classexec_1_1ExecBase.html#aa3cce8c092fb1de4349c0eb1797b2173">ExecBase::IDSTRING</a>[] = <span class="stringliteral">&quot;exec (&quot;</span> __DATE__ <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="structExecBase_1_1Vectors.html">   28</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structExecBase_1_1Vectors.html">ExecBase::Vectors</a> {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;gen/exec.vdef.inc&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;};</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">const</span> <a class="code" href="types_8hpp.html#a2ba621978a511250f7250fb10e05ffbe">int32_t</a> <a class="code" href="classexec_1_1ExecBase.html#abb318e02b44b0b6d38bd5e5b056119a3">ExecBase::VECTORS</a>[] = {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;gen/exec.vecs.inc&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    -1</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;};</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="namespaceexec.html">   36</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceexec.html">exec</a> {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;gen/exec.cdef.inc&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;}</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="execbase_8cpp.html#a344da404b5bb1dbe6a519490ab6eb03c">   40</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classamiga_1_1Custom.html">amiga::Custom</a> <span class="keyword">volatile</span> * <span class="keyword">const</span> <a class="code" href="execbase_8cpp.html#a344da404b5bb1dbe6a519490ab6eb03c">custom</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classamiga_1_1Custom.html">amiga::Custom</a> *<span class="keyword">&gt;</span>(<a class="code" href="namespaceamiga.html#a2b52bc3c1c04004a87ed08d8b45b02df">amiga::CustomBase</a>);</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="execbase_8cpp.html#a0cd4e252e1a62ad9b4dac0f8a4dc5b2b">   41</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classamiga_1_1CIA.html">amiga::CIA</a> <span class="keyword">volatile</span> * <span class="keyword">const</span> <a class="code" href="execbase_8cpp.html#a0cd4e252e1a62ad9b4dac0f8a4dc5b2b">ciaa</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classamiga_1_1CIA.html">amiga::CIA</a> *<span class="keyword">&gt;</span>(<a class="code" href="namespaceamiga.html#a3fe84818331c929cb12ed9cb26efc7e7">amiga::CIAABase</a>);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="structstartup__memory.html">   46</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structstartup__memory.html">startup_memory</a> : <span class="keyword">public</span> <a class="code" href="structexec_1_1Buffer.html">Buffer</a> {</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="structstartup__memory.html#ad250cb07465dc4dc699740d07854b731">   48</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="types_8hpp.html#a06896e8c53f721507066c079052171f8">uint32_t</a> patA=0xAAAAAAAA;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="structstartup__memory.html#aa1d905d59fe13371bdda55925e7c3ba4">   50</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="types_8hpp.html#a06896e8c53f721507066c079052171f8">uint32_t</a> pat5=0x55555555;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="structstartup__memory.html#a7eb1969076b4ca3f72ce0c88b8c5bf94">   52</a></span>&#160;    <a class="code" href="structstartup__memory.html#a7eb1969076b4ca3f72ce0c88b8c5bf94">startup_memory</a>(<a class="code" href="types_8hpp.html#a06896e8c53f721507066c079052171f8">uint32_t</a> start_, <a class="code" href="types_8hpp.html#a06896e8c53f721507066c079052171f8">uint32_t</a> end_)</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        : <a class="code" href="structexec_1_1Buffer.html">Buffer</a>(reinterpret_cast&lt;char *&gt;(start_), reinterpret_cast&lt;char *&gt;(end_))</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    {}</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> is_repeat(<span class="keywordtype">void</span> *, <span class="keywordtype">void</span> *);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> is_writable(<span class="keywordtype">void</span> *);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> is_24bit(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordtype">void</span> probe_chip_ram(<span class="keywordtype">size_t</span> = (256&lt;&lt;10));</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordtype">void</span> probe_slow_ram(<span class="keywordtype">size_t</span> = 4096);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordtype">void</span> probe_a3000_ram(<span class="keywordtype">size_t</span> = (256&lt;&lt;10));</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;};</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structstartup__memory.html#a17815c0bbdb623724e2aec003f467655">   78</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structstartup__memory.html#a17815c0bbdb623724e2aec003f467655">startup_memory::is_repeat</a>(<span class="keywordtype">void</span> *first, <span class="keywordtype">void</span> *second) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keyword">volatile</span> <a class="code" href="types_8hpp.html#a06896e8c53f721507066c079052171f8">uint32_t</a> *p1 = <span class="keyword">static_cast&lt;</span><span class="keyword">volatile </span><a class="code" href="types_8hpp.html#a06896e8c53f721507066c079052171f8">uint32_t</a> *<span class="keyword">&gt;</span>(first);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keyword">volatile</span> <a class="code" href="types_8hpp.html#a06896e8c53f721507066c079052171f8">uint32_t</a> *p2 = <span class="keyword">static_cast&lt;</span><span class="keyword">volatile </span><a class="code" href="types_8hpp.html#a06896e8c53f721507066c079052171f8">uint32_t</a> *<span class="keyword">&gt;</span>(second);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="comment">// obviously, an address does repeat itself, but we&#39;re wanting to test if two distinct addresses</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// appear to be backed by the same RAM</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">if</span>(p1==p2) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// save original values, just in case they were important</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordtype">int</span> v1=*p1, v2=*p2;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// write different values into the locations</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    *p1=patA; *p2=pat5;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordtype">bool</span> aliased = (*p1==pat5);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">// restore original values</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    *p1=v1; *p2=v2;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">return</span> aliased;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="structstartup__memory.html#a6e7230cc9aa2b6510bfb67744b5dad68">  109</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structstartup__memory.html#a6e7230cc9aa2b6510bfb67744b5dad68">startup_memory::is_writable</a>(<span class="keywordtype">void</span> *address) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keyword">volatile</span> <a class="code" href="types_8hpp.html#a06896e8c53f721507066c079052171f8">uint32_t</a> *p = <span class="keyword">static_cast&lt;</span><span class="keyword">volatile </span><a class="code" href="types_8hpp.html#a06896e8c53f721507066c079052171f8">uint32_t</a> *<span class="keyword">&gt;</span>(address);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordtype">bool</span> good;                  <span class="comment">// is the memory good?</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// save original values, just in case they were important</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordtype">int</span> v1=p[0], v2=p[1];</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// write a value, then the inverse of that value to the following location, so that we don&#39;t</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">// have the previous value still hanging around on the bus when reading back</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    p[0]=patA; p[1]=pat5;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">if</span>(p[0]!=patA) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        good=<span class="keyword">false</span>;             <span class="comment">// memory is good</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="comment">// might be OK, test it with different values</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        p[0]=pat5; p[1]=patA;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">if</span>(p[0]!=pat5) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            good=<span class="keyword">false</span>;         <span class="comment">// memory is bad</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            good=<span class="keyword">true</span>;          <span class="comment">// memory is bad</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="comment">// restore original values</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    p[0]=v1; p[1]=v2;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">return</span> good;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="structstartup__memory.html#a7bebbaab382f4e6a7fc979ef1432e59d">  149</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structstartup__memory.html#a7bebbaab382f4e6a7fc979ef1432e59d">startup_memory::is_24bit</a>(<span class="keywordtype">void</span>) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="comment">// are we on a processor with just a 24 bit address bus?</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// find out by checking for aliasing between Chip RAM and A3000 RAM.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordtype">void</span> *chip_ram=<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span> *<span class="keyword">&gt;</span>(0);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordtype">void</span> *a3000_ram=<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span> *<span class="keyword">&gt;</span>(0x07000000);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">// Is the A3000 memory region writable?</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">// Nope, so it must be a 32 bit processor with no A3000 RAM.</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">if</span>(!is_writable(a3000_ram))</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">// Either this is a box with A3000 RAM, or the addressing has wrapped</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">// round and we&#39;re actually poking Chip RAM, so check for aliasing.</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">return</span> is_repeat(chip_ram, a3000_ram);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="structstartup__memory.html#a29ebc914fa9836d9496cffbe2067f91b">  188</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structstartup__memory.html#a29ebc914fa9836d9496cffbe2067f91b">startup_memory::probe_chip_ram</a>(<span class="keywordtype">size_t</span> step) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// basically, the test is to step up the range until we either hit the top, the memory fails to</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">// respond, or it&#39;s aliased with location 0 (i.e. wraparound).</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordtype">char</span> *new_end = start;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">while</span>(new_end &lt; end) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">if</span>(!is_writable(new_end))</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <span class="keywordflow">break</span>;              <span class="comment">// finish if we can&#39;t write to the location</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">if</span>(is_repeat(start, new_end))</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <span class="keywordflow">break</span>;              <span class="comment">// finish if we alias with first location</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        new_end += step;        <span class="comment">// test OK, continue to next block</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    end = new_end;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="structstartup__memory.html#aa2d778af767376bcd86e4cde7ed6a2ed">  225</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structstartup__memory.html#aa2d778af767376bcd86e4cde7ed6a2ed">startup_memory::probe_slow_ram</a>(<span class="keywordtype">size_t</span> step) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">// The Slow RAM (0xC00000) probe is rather cunning. Due to incomplete address decoding, the</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">// custom chips appear where there is no RAM. So we scan through the space treating it like</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">// custom chips and poking values into INTENA and seeing if they affect INTENAR. If it&#39;s RAM,</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="comment">// the aliased INTENAR location does not update in sympathy.</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordtype">char</span> *new_end = start;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">while</span>(new_end &lt; end) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <a class="code" href="classamiga_1_1Custom.html">amiga::Custom</a> * test = <span class="keyword">new</span> (new_end) <a class="code" href="classamiga_1_1Custom.html">amiga::Custom</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="comment">// Firstly, we clear INTENA and then read INTENAR.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        test-&gt;<a class="code" href="classamiga_1_1Custom.html#a0c81317d115c7cc36d80e18d712d3287">intena</a>(0x3fff); <span class="comment">// clear all bits in INTENA</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">if</span>(!test-&gt;<a class="code" href="classamiga_1_1Custom.html#a0c81317d115c7cc36d80e18d712d3287">intena</a>()) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="comment">// we got zero back, so either we read INTENAR back, or the RAM</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="comment">// happened to contain zero. Redo the INTENA dance with a different</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="comment">// value to see which it was.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            test-&gt;<a class="code" href="classamiga_1_1Custom.html#a0c81317d115c7cc36d80e18d712d3287">intena</a>(0xbfff); <span class="comment">// set all bits except master enable in INTENA</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="keywordflow">if</span>(test-&gt;<a class="code" href="classamiga_1_1Custom.html#a0c81317d115c7cc36d80e18d712d3287">intena</a>() == 0x3fff) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                <span class="comment">// OK, we&#39;re definitely looking at INTENAR rather than RAM here, so</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <span class="comment">// exit test loop.</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="comment">// However, while we&#39;ve checked that we&#39;re not looking at custom chips, we&#39;ve not actually</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="comment">// checked to see if it&#39;s RAM. (UAE with AGA and no Slow RAM has nothing at $C00000, for</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="comment">// example.) So we do that as well:</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">if</span>(!is_writable(new_end)) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        new_end += step;        <span class="comment">// test OK, continue to next block</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    end = new_end;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="structstartup__memory.html#a7ba5a0a56669519505c30e98ac352b60">  292</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structstartup__memory.html#a7ba5a0a56669519505c30e98ac352b60">startup_memory::probe_a3000_ram</a>(<span class="keywordtype">size_t</span> step) {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">if</span>(is_24bit()) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        start = end = NULL;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    };</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordtype">char</span> *new_start = start;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="comment">// find first location that responds</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">while</span>(new_start &lt; end) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">if</span>(is_writable(new_start))</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="keywordflow">break</span>;                      <span class="comment">// finish if we *can* write to the location</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        new_start += step;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordtype">char</span> *new_end = new_start;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="comment">// find first location that doesn&#39;t respond (result ends in &quot;top&quot;)</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">while</span>(new_end &lt; end) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">if</span>(!is_writable(new_end))</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="keywordflow">break</span>;                      <span class="comment">// finish if we can&#39;t write to the location</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        new_end += step;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    start = new_start;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    end = new_end;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;}</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="classexec_1_1ExecBase.html#a5ebf796d6c09b2ba62a29de7015bd94b">  416</a></span>&#160;<span class="keywordtype">char</span> *<a class="code" href="classexec_1_1ExecBase.html#a5ebf796d6c09b2ba62a29de7015bd94b">ExecBase::startup</a>(<span class="keywordtype">void</span>) {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="comment">// Real Amigas can have up to 2MB of Chip RAM, although UAE supports up to 8MB. We use 10MB as</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="comment">// the theoretical maximum since the probe that high doesn&#39;t hit any important MMIO hardware and</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="comment">// Chip RAM is more useful than the Zorro II RAM space.</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">// The ceiling of Slow RAM is a bit more nebulous. Supposedly it is possible to have 1.75MB of</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">// it (to 0xDC0000) but most RAM expansions were 512kB, UAE doesn&#39;t want to go that high, and</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment">// bits of MMIO start showing up at 0xD80000 upwards. So we use that as the ceiling.</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="comment">// The A4000&#39;s RAM grows down from 0x08000000, unless MapROM is in effect in which case it grows</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="comment">// down from 0x07800000. 16MB maximum can be fitted, giving the lowest start address of</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment">// 0x07000000. The A3000 appears to be similar, but I&#39;ve not seen one to test. UAE&#39;s A3000 RAM</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">// grows *up* from 0x07000000 and has a maximum of a3000mem_size=3984 which extends memory right</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">// to the top of the 4GB address space. However, AmigaOS is not 32 bit clean, so only 2GB of</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">// address space is useful for RAM, or a3000mem_size=1936.</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="structstartup__memory.html">startup_memory</a></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        chip_ram(          0,   0xa00000),</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        slow_ram(   0xc00000,   0xd80000),</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        a3000_ram(0x07000000, 0x80000000);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    chip_ram.probe_chip_ram();</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="comment">// chop off first 4kiB page of Chip RAM; %sp is currently at the top of here; this size also</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">// corresponds to the common MMU page size, and is useful to stop stuff being placed in memory</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">// that is protected by Enforcer.</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    chip_ram.carve_bottom(0x1000);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    slow_ram.probe_slow_ram();</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="comment">// blow away the slow RAM pointers just to make sure; otherwise ExecBase will end up with a</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="comment">// nonsensical slow RAM end address of 0xC00000.</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">if</span>(!slow_ram) slow_ram.start = slow_ram.end = NULL;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    a3000_ram.<a class="code" href="structstartup__memory.html#a7ba5a0a56669519505c30e98ac352b60">probe_a3000_ram</a>();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="comment">// this is a temporary system memory list, which is eventually passed to the ExecBase</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="comment">// constructor.</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <a class="code" href="classexec_1_1HeapList.html">HeapList</a> heaplist;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">if</span>(a3000_ram)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        heaplist.<a class="code" href="classexec_1_1HeapList.html#a4e3235be3e645efc6c7a796ef9cf7491">add</a>(a3000_ram.<a class="code" href="structexec_1_1Buffer.html#a499d6d5e57b36d176247e867fd3c3f3d">size</a>(), <a class="code" href="group__exec__memory.html#ga21cfd5c98cd8ce112d35cb2e31e194e3">Heap::Attributes</a>(</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                <a class="code" href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3a44ef10c1593affe04d646ee3b89096d4">Heap::MEMF_PUBLIC</a> | <a class="code" href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3ab5801b6435fcea7ff7d3b380fbe6d1c3">Heap::MEMF_FAST</a> | <a class="code" href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3ad745e256e723bbcac5e74a7e1b204cb6">Heap::MEMF_LOCAL</a> | <a class="code" href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3aaa7401de82f2d5331fc865c53f2d6226">Heap::MEMF_KICK</a></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;              ), 30, a3000_ram.<a class="code" href="structexec_1_1Buffer.html#a74d8672ada4e0f656d20520c0382ec50">start</a>, <span class="stringliteral">&quot;A3000 RAM&quot;</span>);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="comment">// 0xC00000 RAM is marked neither Chip RAM nor Fast RAM.</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">if</span>(slow_ram)</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        heaplist.<a class="code" href="classexec_1_1HeapList.html#a4e3235be3e645efc6c7a796ef9cf7491">add</a>(slow_ram.size(), <a class="code" href="group__exec__memory.html#ga21cfd5c98cd8ce112d35cb2e31e194e3">Heap::Attributes</a>(</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                <a class="code" href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3a44ef10c1593affe04d646ee3b89096d4">Heap::MEMF_PUBLIC</a> | <a class="code" href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3ad745e256e723bbcac5e74a7e1b204cb6">Heap::MEMF_LOCAL</a> | <a class="code" href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3a43b93ff46b8eb7752ab84ee4806cc9a1">Heap::MEMF_DMA24</a> | <a class="code" href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3aaa7401de82f2d5331fc865c53f2d6226">Heap::MEMF_KICK</a></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;              ), 0, slow_ram.start, <span class="stringliteral">&quot;Slow RAM&quot;</span>);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    heaplist.<a class="code" href="classexec_1_1HeapList.html#a4e3235be3e645efc6c7a796ef9cf7491">add</a>(chip_ram.size(), <a class="code" href="group__exec__memory.html#ga21cfd5c98cd8ce112d35cb2e31e194e3">Heap::Attributes</a>(</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            <a class="code" href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3a44ef10c1593affe04d646ee3b89096d4">Heap::MEMF_PUBLIC</a> | <a class="code" href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3a0be88534be48d0e71a3ffef6d68969b3">Heap::MEMF_CHIP</a> | <a class="code" href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3ad745e256e723bbcac5e74a7e1b204cb6">Heap::MEMF_LOCAL</a> | <a class="code" href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3a43b93ff46b8eb7752ab84ee4806cc9a1">Heap::MEMF_DMA24</a> | <a class="code" href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3aaa7401de82f2d5331fc865c53f2d6226">Heap::MEMF_KICK</a></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;          ), -10, chip_ram.start, <span class="stringliteral">&quot;Chip RAM&quot;</span>);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="comment">// now find somewhere to drop supervisor stack</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordtype">size_t</span> supervisor_stack_size = 6 * 1024;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordtype">char</span> *supervisor_stack =</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        heaplist.<a class="code" href="classexec_1_1HeapList.html#ade9b5866e0c2703c1d6619f092775c0d">allocate</a>(supervisor_stack_size, <a class="code" href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3a44ef10c1593affe04d646ee3b89096d4">Heap::MEMF_PUBLIC</a>, <a class="code" href="group__exec__memory.html#gga7dd8b90fda92831d65ba2168b7013df4a4614c8250448bb55e8625e2d2ada3528">Heap::MEMF_REVERSE</a>);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">if</span>(!supervisor_stack) <span class="keyword">asm</span>(<span class="stringliteral">&quot;.word 0x4afc&quot;</span>);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="classexec_1_1ExecBase.html">ExecBase</a> *new_execbase = <span class="keyword">new</span> (</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        &amp;heaplist, <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="classexec_1_1PackedFunctions.html">PackedFunctions</a> *<span class="keyword">&gt;</span>(<a class="code" href="classexec_1_1ExecBase.html#abb318e02b44b0b6d38bd5e5b056119a3">VECTORS</a>)</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      ) <a class="code" href="classexec_1_1ExecBase.html#a1383ffed5cf110456e3a231682478908">ExecBase</a>(</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;          supervisor_stack + supervisor_stack_size, supervisor_stack,</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;          chip_ram.end, slow_ram.end,</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;          &amp;heaplist</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        );</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">if</span>(!new_execbase) <span class="keyword">asm</span>(<span class="stringliteral">&quot;.word 0x4afc&quot;</span>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <a class="code" href="namespaceexec.html#ade8e1569c6f5acc408d4e3f1fb5c1a01">execbase</a> = new_execbase;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordtype">size_t</span> exec_stack_size = 4096;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="comment">// // create the initial exec.library task</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="comment">// MemEntryResponse mer =</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="comment">//     execbase-&gt;heap_list.allocate_multiple(</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="comment">//         Heap::MEMF_PUBLIC, sizeof(Task),</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="comment">//         Heap::MEMF_PUBLIC, exec_stack_size,</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="comment">//         NULL );</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="comment">// if(mer.failed) asm(&quot;.word 0x4afc&quot;);</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="comment">// MemEntry * me = mer.mementry;</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="comment">// *reinterpret_cast&lt;uint32_t *&gt;(8) = reinterpret_cast&lt;uint32_t&gt;(me);</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="comment">// asm volatile (&quot;42: move.w #0xf00, 0xdff180\n bra.s 42b&quot;);</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="comment">// Task *exec_task = new ( me-&gt;entries[0].addr ) Task(&quot;exec.library&quot;);</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="comment">// char *exec_stack = me-&gt;entries[1].addr;</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="comment">// FIXME: new adds size block and thus wastes 8 bytes.</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="classexec_1_1Task.html">Task</a> *exec_task = <span class="keyword">new</span> <a class="code" href="classexec_1_1Task.html">Task</a>(<span class="stringliteral">&quot;exec.library&quot;</span>);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordtype">char</span> *exec_stack = <span class="keyword">new</span> <span class="keywordtype">char</span>[exec_stack_size];</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <a class="code" href="namespaceexec.html#ade8e1569c6f5acc408d4e3f1fb5c1a01">execbase</a>-&gt;<a class="code" href="classexec_1_1ExecBase.html#a32c76039c0be35e22020250b1167c6d1">task_ready</a>.<a class="code" href="classexec_1_1TaskList.html#ada7ebed21e90154c9057ea874dec2e5f">add</a>(exec_task);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="namespaceexec.html#ade8e1569c6f5acc408d4e3f1fb5c1a01">execbase</a>-&gt;<a class="code" href="classexec_1_1ExecBase.html#a52652576d5612517f277404d41b33b97">this_task</a> = exec_task;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    exec_task-&gt;<a class="code" href="classexec_1_1Task.html#aa456d8d183f27d068874b2a45ba1d866">stack_bottom</a> = exec_stack;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    exec_task-&gt;<a class="code" href="classexec_1_1Task.html#a2a694e8922b6df6691ee0a09c20d64a0">stack_pointer</a> = exec_task-&gt;<a class="code" href="classexec_1_1Task.html#a517020e559ccb4b6cb1b983406421a93">stack_top</a> = exec_stack + exec_stack_size;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="comment">// asm(&quot;.word 0x4afc&quot;);</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="comment">// // asm(&quot;.word 0x4afc&quot;);</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">// execbase-&gt;RawIOInit();</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">// //asm(&quot;42: bra.s 42b&quot;);</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment">// execbase-&gt;RawPutChar(&#39;T&#39;);</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="comment">// execbase-&gt;RawPutChar(&#39;E&#39;);</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="comment">// execbase-&gt;RawPutChar(&#39;S&#39;);</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="comment">// execbase-&gt;RawPutChar(&#39;T&#39;);</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="comment">// execbase-&gt;RawPutChar(&#39;\n&#39;);</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keyword">asm</span>(<span class="stringliteral">&quot;move.l %0, %%usp&quot;</span> : : <span class="stringliteral">&quot;a&quot;</span>(exec_stack + exec_stack_size));</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="comment">//asm(&quot;move.l %0, %%usp \n move.l %1, %1&quot; : : &quot;a&quot;(exec_stack + exec_stack_size), &quot;a&quot;(exec_stack));</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">return</span> supervisor_stack + supervisor_stack_size;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;}</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div>
<div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="classexec_1_1ExecBase.html#a172772a04e36481b5d83f64610745590">  529</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classexec_1_1ExecBase.html#a172772a04e36481b5d83f64610745590">ExecBase::startup2</a>(<span class="keywordtype">void</span>) {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="comment">// Now is an excellent time to start scanning ROMTags</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="comment">// we scan ROMtags here and accumulate them in the romtags list</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="classexec_1_1ResidentArray_1_1BuilderList.html">ResidentArray::BuilderList</a> romtags;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    romtags.<a class="code" href="classexec_1_1ResidentArray_1_1BuilderList.html#a1aef596a238d1717c08f8db62b25c41d">search</a>(0x00f80000, 0x01000000);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="comment">// TOD: scan other areas</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">// romtags.search(0x00f00000, 0x00f80000);</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="comment">// TODO: process kick_mem_ptr/kick_tag_ptr and add to romtags</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="comment">// now flatten the list into an array of Resident</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="namespaceexec.html#ade8e1569c6f5acc408d4e3f1fb5c1a01">execbase</a>-&gt;<a class="code" href="classexec_1_1ExecBase.html#add6c43b232e39b7a70f577757202c58e">res_modules</a> = romtags.<a class="code" href="classexec_1_1ResidentArray_1_1BuilderList.html#a23fbbc813b28bcf036e3426d0e060470">flatten</a>();</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="namespaceexec.html#ade8e1569c6f5acc408d4e3f1fb5c1a01">execbase</a>-&gt;<a class="code" href="classexec_1_1ExecBase.html#add6c43b232e39b7a70f577757202c58e">res_modules</a>-&gt;<a class="code" href="classexec_1_1ResidentArray.html#a81ad496d62f65f039230ce8f2837ae54">initialise</a>(<a class="code" href="group__exec__library.html#gga67aa547e64eb1574c900a90a20eab505a8ce7ac2ba480afe93ba6b97bf04cac18">Resident::RTF_COLDSTART</a>, 34);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="comment">// turn LED on</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    ciaa-&gt;<a class="code" href="classamiga_1_1CIA.html#aa5f1ebeafa8ea75e9d89372e66332479">pra</a> &amp;= ~2;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="comment">// TODO: call &quot;cool capture&quot; if not NULL</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="comment">// TODO: InitCode all of those resident modules</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="comment">// (it&#39;s expected that the disk system takes control at this point)</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="comment">// TODO: call &quot;warm capture&quot; if not NULL</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="comment">// TODO: bail into ROM-Wack</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="comment">// \todo random test pattern to indicate we&#39;ve run out of things to do.</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment">      custom-&gt;color(0, 0xfff);</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment">      for(;;);</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">while</span>(1) {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="comment">//ciaa-&gt;pra ^= 2;</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        custom-&gt;<a class="code" href="classamiga_1_1Custom.html#a35c824500e88924acb2ecb44cb680f3f">color</a>(0, 0x00f);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> n=0; n&lt;(1&lt;&lt;5); ++n) {<span class="keyword">asm</span>(<span class="stringliteral">&quot;&quot;</span>);};</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        custom-&gt;<a class="code" href="classamiga_1_1Custom.html#a35c824500e88924acb2ecb44cb680f3f">color</a>(0, 0xff0);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> n=0; n&lt;(1&lt;&lt;5); ++n) {<span class="keyword">asm</span>(<span class="stringliteral">&quot;&quot;</span>);};</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;}</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div>
<div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="classexec_1_1ExecBase.html#a8bc3fbd798db97f87034186f9fb87b38">  573</a></span>&#160;<a class="code" href="classexec_1_1ExecBase.html#a1383ffed5cf110456e3a231682478908">ExecBase::ExecBase</a>(</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordtype">char</span> *sys_stack_upper, <span class="keywordtype">char</span> *sys_stack_lower,</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordtype">char</span> *chipmem_top, <span class="keywordtype">char</span> *slowmem_top,</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="classexec_1_1HeapList.html">HeapList</a> *new_heap_list</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  )</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    : <a class="code" href="classexec_1_1Library.html">Library</a>(<a class="code" href="classexec_1_1ExecBase.html">ExecBase</a>::NAME, 33, 0, <a class="code" href="classexec_1_1ExecBase.html">ExecBase</a>::IDSTRING)</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    , bootinfo(this, sys_stack_upper, sys_stack_lower, chipmem_top, slowmem_top)</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    , idnestcnt(0)</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    , tdnestcnt(0)</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    , attn_flags(probe_cpu())</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    , heap_list(new_heap_list)</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;{</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">// add it to the library list</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <a class="code" href="classexec_1_1ExecBase.html#aa502fb276bdda06dec670fb3f81c068d">library_list</a>.<a class="code" href="classexec_1_1LibraryList.html#a835c8c95b111af0d01e4cd9e7ae52237">add_library</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="classexec_1_1ExecBase.html#a7ac128b56346c1de7b5ce7c93fe90181">intvects</a>[0] = {0, 0, 0};</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;}</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div>
<div class="line"><a name="l00590"></a><span class="lineno"><a class="line" href="classexec_1_1ExecBase_1_1BootInfo.html#a8565f72d4dcc64c9b1c31cab32a059be">  590</a></span>&#160;<a class="code" href="classexec_1_1ExecBase_1_1BootInfo.html#a8565f72d4dcc64c9b1c31cab32a059be">ExecBase::BootInfo::BootInfo</a>(<a class="code" href="classexec_1_1ExecBase.html">ExecBase</a> *<a class="code" href="namespaceexec.html#ade8e1569c6f5acc408d4e3f1fb5c1a01">execbase</a>,</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordtype">char</span> *sys_stack_upper_, <span class="keywordtype">char</span> *sys_stack_lower_,</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordtype">char</span> *chipmem_top_, <span class="keywordtype">char</span> *slowmem_top_)</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    : soft_ver(0),</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      lowmem_checksum(),</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      check_base(~reinterpret_cast&lt;<a class="code" href="types_8hpp.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&gt;(execbase)),</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      cold_capture(NULL),</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      cool_capture(NULL),</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      warm_capture(NULL),</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      sys_stack_upper(sys_stack_upper_),</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      sys_stack_lower(sys_stack_lower_),</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      chipmem_top(chipmem_top_),</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      debug_entry(),</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      debug_data(),</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      alert_data(),</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      slowmem_top(slowmem_top_),</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      checksum()</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;{}</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div>
<div class="line"><a name="l00609"></a><span class="lineno"><a class="line" href="classexec_1_1ExecBase.html#a4fdd29c6ed87717e4b0ac81f190d8e26">  609</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classexec_1_1ExecBase.html#a4fdd29c6ed87717e4b0ac81f190d8e26">ExecBase::disable</a>(<span class="keywordtype">void</span>) {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    ++<a class="code" href="classexec_1_1ExecBase.html#aa71e11abc210cadf7d6be60a73a2dd30">idnestcnt</a>;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    custom-&gt;<a class="code" href="classamiga_1_1Custom.html#a0c81317d115c7cc36d80e18d712d3287">intena</a>(0x4000);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div>
<div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="classexec_1_1ExecBase.html#a017acaa7a9496b0a3035d70ad1e21d10">  614</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classexec_1_1ExecBase.html#a017acaa7a9496b0a3035d70ad1e21d10">ExecBase::enable</a>(<span class="keywordtype">void</span>) {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">if</span>(--<a class="code" href="classexec_1_1ExecBase.html#aa71e11abc210cadf7d6be60a73a2dd30">idnestcnt</a> &lt; 0) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        custom-&gt;<a class="code" href="classamiga_1_1Custom.html#a0c81317d115c7cc36d80e18d712d3287">intena</a>(0xc000);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;}</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div>
<div class="line"><a name="l00620"></a><span class="lineno"><a class="line" href="classexec_1_1Task.html#a5f789fe49df22cc7a2ed7b899005ef92">  620</a></span>&#160;<span class="keywordtype">void</span> *Task::operator <span class="keyword">new</span>(<span class="keywordtype">size_t</span> size) {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceexec.html#ade8e1569c6f5acc408d4e3f1fb5c1a01">execbase</a>-&gt;AllocMem(size, <a class="code" href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3a44ef10c1593affe04d646ee3b89096d4">Heap::MEMF_PUBLIC</a>);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div>
<div class="ttc" id="classexec_1_1ExecBase_html_a7ac128b56346c1de7b5ce7c93fe90181"><div class="ttname"><a href="classexec_1_1ExecBase.html#a7ac128b56346c1de7b5ce7c93fe90181">exec::ExecBase::intvects</a></div><div class="ttdeci">IntVector intvects[16]</div><div class="ttdef"><b>Definition:</b> <a href="execbase_8hpp_source.html#l00068">execbase.hpp:68</a></div></div>
<div class="ttc" id="namespaceamiga_html_a3fe84818331c929cb12ed9cb26efc7e7"><div class="ttname"><a href="namespaceamiga.html#a3fe84818331c929cb12ed9cb26efc7e7">amiga::CIAABase</a></div><div class="ttdeci">void *const CIAABase</div><div class="ttdoc">Physical base address of CIA A. </div><div class="ttdef"><b>Definition:</b> <a href="amiga_8hpp_source.html#l00020">amiga.hpp:20</a></div></div>
<div class="ttc" id="classexec_1_1ExecBase_html_a1383ffed5cf110456e3a231682478908"><div class="ttname"><a href="classexec_1_1ExecBase.html#a1383ffed5cf110456e3a231682478908">exec::ExecBase::ExecBase</a></div><div class="ttdeci">ExecBase(void)</div></div>
<div class="ttc" id="classexec_1_1Task_html"><div class="ttname"><a href="classexec_1_1Task.html">exec::Task</a></div><div class="ttdoc">(Stub declaration) </div><div class="ttdef"><b>Definition:</b> <a href="todo_8hpp_source.html#l00050">todo.hpp:50</a></div></div>
<div class="ttc" id="namespaceamiga_html_a2b52bc3c1c04004a87ed08d8b45b02df"><div class="ttname"><a href="namespaceamiga.html#a2b52bc3c1c04004a87ed08d8b45b02df">amiga::CustomBase</a></div><div class="ttdeci">void *const CustomBase</div><div class="ttdoc">Physical base address of the custom chips. </div><div class="ttdef"><b>Definition:</b> <a href="amiga_8hpp_source.html#l00024">amiga.hpp:24</a></div></div>
<div class="ttc" id="classexec_1_1ResidentArray_1_1BuilderList_html"><div class="ttname"><a href="classexec_1_1ResidentArray_1_1BuilderList.html">exec::ResidentArray::BuilderList</a></div><div class="ttdef"><b>Definition:</b> <a href="library_8hpp_source.html#l00128">library.hpp:128</a></div></div>
<div class="ttc" id="classexec_1_1ExecBase_html_add6c43b232e39b7a70f577757202c58e"><div class="ttname"><a href="classexec_1_1ExecBase.html#add6c43b232e39b7a70f577757202c58e">exec::ExecBase::res_modules</a></div><div class="ttdeci">ResidentArray * res_modules</div><div class="ttdef"><b>Definition:</b> <a href="execbase_8hpp_source.html#l00101">execbase.hpp:101</a></div></div>
<div class="ttc" id="classexec_1_1ExecBase_html_a172772a04e36481b5d83f64610745590"><div class="ttname"><a href="classexec_1_1ExecBase.html#a172772a04e36481b5d83f64610745590">exec::ExecBase::startup2</a></div><div class="ttdeci">static void startup2(void)</div><div class="ttdef"><b>Definition:</b> <a href="execbase_8cpp_source.html#l00529">execbase.cpp:529</a></div></div>
<div class="ttc" id="classexec_1_1ResidentArray_1_1BuilderList_html_a1aef596a238d1717c08f8db62b25c41d"><div class="ttname"><a href="classexec_1_1ResidentArray_1_1BuilderList.html#a1aef596a238d1717c08f8db62b25c41d">exec::ResidentArray::BuilderList::search</a></div><div class="ttdeci">void search(address_t start, address_t end_)</div><div class="ttdef"><b>Definition:</b> <a href="library_8cpp_source.html#l00319">library.cpp:319</a></div></div>
<div class="ttc" id="structstartup__memory_html_a6e7230cc9aa2b6510bfb67744b5dad68"><div class="ttname"><a href="structstartup__memory.html#a6e7230cc9aa2b6510bfb67744b5dad68">startup_memory::is_writable</a></div><div class="ttdeci">static bool is_writable(void *)</div><div class="ttdoc">Tests to see if a memory location is RAM. </div><div class="ttdef"><b>Definition:</b> <a href="execbase_8cpp_source.html#l00109">execbase.cpp:109</a></div></div>
<div class="ttc" id="classexec_1_1ExecBase_html_a5ebf796d6c09b2ba62a29de7015bd94b"><div class="ttname"><a href="classexec_1_1ExecBase.html#a5ebf796d6c09b2ba62a29de7015bd94b">exec::ExecBase::startup</a></div><div class="ttdeci">static char * startup(void)</div><div class="ttdoc">C++ early startup entry point. </div><div class="ttdef"><b>Definition:</b> <a href="execbase_8cpp_source.html#l00416">execbase.cpp:416</a></div></div>
<div class="ttc" id="group__exec__memory_html_gga7dd8b90fda92831d65ba2168b7013df4a4614c8250448bb55e8625e2d2ada3528"><div class="ttname"><a href="group__exec__memory.html#gga7dd8b90fda92831d65ba2168b7013df4a4614c8250448bb55e8625e2d2ada3528">exec::Heap::MEMF_REVERSE</a></div><div class="ttdoc">allocate memory from the top of the pool (V36+) </div><div class="ttdef"><b>Definition:</b> <a href="memory_8hpp_source.html#l00034">memory.hpp:34</a></div></div>
<div class="ttc" id="structstartup__memory_html_a7ba5a0a56669519505c30e98ac352b60"><div class="ttname"><a href="structstartup__memory.html#a7ba5a0a56669519505c30e98ac352b60">startup_memory::probe_a3000_ram</a></div><div class="ttdeci">void probe_a3000_ram(size_t=(256&lt;&lt; 10))</div><div class="ttdoc">Probes for A3000-style RAM. </div><div class="ttdef"><b>Definition:</b> <a href="execbase_8cpp_source.html#l00292">execbase.cpp:292</a></div></div>
<div class="ttc" id="classexec_1_1Task_html_a2a694e8922b6df6691ee0a09c20d64a0"><div class="ttname"><a href="classexec_1_1Task.html#a2a694e8922b6df6691ee0a09c20d64a0">exec::Task::stack_pointer</a></div><div class="ttdeci">void * stack_pointer</div><div class="ttdef"><b>Definition:</b> <a href="todo_8hpp_source.html#l00097">todo.hpp:97</a></div></div>
<div class="ttc" id="namespaceexec_html"><div class="ttname"><a href="namespaceexec.html">exec</a></div><div class="ttdoc">The system executive. </div><div class="ttdef"><b>Definition:</b> <a href="execbase_8cpp_source.html#l00036">execbase.cpp:36</a></div></div>
<div class="ttc" id="classexec_1_1TaskList_html_ada7ebed21e90154c9057ea874dec2e5f"><div class="ttname"><a href="classexec_1_1TaskList.html#ada7ebed21e90154c9057ea874dec2e5f">exec::TaskList::add</a></div><div class="ttdeci">void add(Task *task_)</div><div class="ttdef"><b>Definition:</b> <a href="todo_8hpp_source.html#l00119">todo.hpp:119</a></div></div>
<div class="ttc" id="types_8hpp_html_a06896e8c53f721507066c079052171f8"><div class="ttname"><a href="types_8hpp.html#a06896e8c53f721507066c079052171f8">uint32_t</a></div><div class="ttdeci">unsigned long uint32_t</div><div class="ttdoc">32 bit unsigned type </div><div class="ttdef"><b>Definition:</b> <a href="types_8hpp_source.html#l00016">types.hpp:16</a></div></div>
<div class="ttc" id="classexec_1_1ExecBase_html_aa502fb276bdda06dec670fb3f81c068d"><div class="ttname"><a href="classexec_1_1ExecBase.html#aa502fb276bdda06dec670fb3f81c068d">exec::ExecBase::library_list</a></div><div class="ttdeci">LibraryList library_list</div><div class="ttdef"><b>Definition:</b> <a href="execbase_8hpp_source.html#l00114">execbase.hpp:114</a></div></div>
<div class="ttc" id="classamiga_1_1Custom_html"><div class="ttname"><a href="classamiga_1_1Custom.html">amiga::Custom</a></div><div class="ttdoc">The Amiga custom chipset. </div><div class="ttdef"><b>Definition:</b> <a href="amiga_8hpp_source.html#l00093">amiga.hpp:93</a></div></div>
<div class="ttc" id="new_8hpp_html"><div class="ttname"><a href="new_8hpp.html">new.hpp</a></div><div class="ttdoc">Dynamic memory management. </div></div>
<div class="ttc" id="classexec_1_1LibraryList_html_a835c8c95b111af0d01e4cd9e7ae52237"><div class="ttname"><a href="classexec_1_1LibraryList.html#a835c8c95b111af0d01e4cd9e7ae52237">exec::LibraryList::add_library</a></div><div class="ttdeci">void add_library(Library *library)</div><div class="ttdef"><b>Definition:</b> <a href="library_8cpp_source.html#l00499">library.cpp:499</a></div></div>
<div class="ttc" id="classamiga_1_1CIA_html_aa5f1ebeafa8ea75e9d89372e66332479"><div class="ttname"><a href="classamiga_1_1CIA.html#aa5f1ebeafa8ea75e9d89372e66332479">amiga::CIA::pra</a></div><div class="ttdeci">volatile uint8_t pra</div><div class="ttdoc">Peripheral data register A. </div><div class="ttdef"><b>Definition:</b> <a href="amiga_8hpp_source.html#l00036">amiga.hpp:36</a></div></div>
<div class="ttc" id="execbase_8cpp_html_a344da404b5bb1dbe6a519490ab6eb03c"><div class="ttname"><a href="execbase_8cpp.html#a344da404b5bb1dbe6a519490ab6eb03c">custom</a></div><div class="ttdeci">static amiga::Custom volatile *const custom</div><div class="ttdef"><b>Definition:</b> <a href="execbase_8cpp_source.html#l00040">execbase.cpp:40</a></div></div>
<div class="ttc" id="amiga_8hpp_html"><div class="ttname"><a href="amiga_8hpp.html">amiga.hpp</a></div><div class="ttdoc">Headers for Amiga hardware. </div></div>
<div class="ttc" id="group__exec__library_html_gga67aa547e64eb1574c900a90a20eab505a8ce7ac2ba480afe93ba6b97bf04cac18"><div class="ttname"><a href="group__exec__library.html#gga67aa547e64eb1574c900a90a20eab505a8ce7ac2ba480afe93ba6b97bf04cac18">exec::Resident::RTF_COLDSTART</a></div><div class="ttdoc">module is initialised immediately after starting multitasking (V33) </div><div class="ttdef"><b>Definition:</b> <a href="library_8hpp_source.html#l00065">library.hpp:65</a></div></div>
<div class="ttc" id="group__exec__memory_html_ga21cfd5c98cd8ce112d35cb2e31e194e3"><div class="ttname"><a href="group__exec__memory.html#ga21cfd5c98cd8ce112d35cb2e31e194e3">exec::Heap::Attributes</a></div><div class="ttdeci">Attributes</div><div class="ttdoc">memory attributes </div><div class="ttdef"><b>Definition:</b> <a href="memory_8hpp_source.html#l00019">memory.hpp:19</a></div></div>
<div class="ttc" id="structexec_1_1Buffer_html_a499d6d5e57b36d176247e867fd3c3f3d"><div class="ttname"><a href="structexec_1_1Buffer.html#a499d6d5e57b36d176247e867fd3c3f3d">exec::Buffer::size</a></div><div class="ttdeci">size_t size(void) const </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8hpp_source.html#l00017">buffer.hpp:17</a></div></div>
<div class="ttc" id="classamiga_1_1Custom_html_a0c81317d115c7cc36d80e18d712d3287"><div class="ttname"><a href="classamiga_1_1Custom.html#a0c81317d115c7cc36d80e18d712d3287">amiga::Custom::intena</a></div><div class="ttdeci">uint16_t intena(void) volatile</div><div class="ttdoc">Read a 16 bit value from the INTENA register. </div><div class="ttdef"><b>Definition:</b> <a href="amiga_8hpp_source.html#l00128">amiga.hpp:128</a></div></div>
<div class="ttc" id="namespaceexec_html_ade8e1569c6f5acc408d4e3f1fb5c1a01"><div class="ttname"><a href="namespaceexec.html#ade8e1569c6f5acc408d4e3f1fb5c1a01">exec::execbase</a></div><div class="ttdeci">ExecBase * execbase</div></div>
<div class="ttc" id="classexec_1_1ExecBase_html_aaf686572c41f1802e7b36475ddc334bf"><div class="ttname"><a href="classexec_1_1ExecBase.html#aaf686572c41f1802e7b36475ddc334bf">exec::ExecBase::NAME</a></div><div class="ttdeci">static const char NAME[]</div><div class="ttdef"><b>Definition:</b> <a href="execbase_8hpp_source.html#l00028">execbase.hpp:28</a></div></div>
<div class="ttc" id="group__exec__memory_html_gga21cfd5c98cd8ce112d35cb2e31e194e3ab5801b6435fcea7ff7d3b380fbe6d1c3"><div class="ttname"><a href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3ab5801b6435fcea7ff7d3b380fbe6d1c3">exec::Heap::MEMF_FAST</a></div><div class="ttdoc">memory is not visible to custom chips </div><div class="ttdef"><b>Definition:</b> <a href="memory_8hpp_source.html#l00023">memory.hpp:23</a></div></div>
<div class="ttc" id="structstartup__memory_html_a29ebc914fa9836d9496cffbe2067f91b"><div class="ttname"><a href="structstartup__memory.html#a29ebc914fa9836d9496cffbe2067f91b">startup_memory::probe_chip_ram</a></div><div class="ttdeci">void probe_chip_ram(size_t=(256&lt;&lt; 10))</div><div class="ttdoc">Probes for Chip RAM. </div><div class="ttdef"><b>Definition:</b> <a href="execbase_8cpp_source.html#l00188">execbase.cpp:188</a></div></div>
<div class="ttc" id="classexec_1_1PackedFunctions_html"><div class="ttname"><a href="classexec_1_1PackedFunctions.html">exec::PackedFunctions</a></div><div class="ttdoc">a packed function table. </div><div class="ttdef"><b>Definition:</b> <a href="library_8hpp_source.html#l00039">library.hpp:39</a></div></div>
<div class="ttc" id="classexec_1_1Task_html_aa456d8d183f27d068874b2a45ba1d866"><div class="ttname"><a href="classexec_1_1Task.html#aa456d8d183f27d068874b2a45ba1d866">exec::Task::stack_bottom</a></div><div class="ttdeci">void * stack_bottom</div><div class="ttdef"><b>Definition:</b> <a href="todo_8hpp_source.html#l00098">todo.hpp:98</a></div></div>
<div class="ttc" id="group__exec__memory_html_gga21cfd5c98cd8ce112d35cb2e31e194e3a43b93ff46b8eb7752ab84ee4806cc9a1"><div class="ttname"><a href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3a43b93ff46b8eb7752ab84ee4806cc9a1">exec::Heap::MEMF_DMA24</a></div><div class="ttdoc">memory is visible to Zorro II devices (V36+) </div><div class="ttdef"><b>Definition:</b> <a href="memory_8hpp_source.html#l00025">memory.hpp:25</a></div></div>
<div class="ttc" id="execbase_8hpp_html"><div class="ttname"><a href="execbase_8hpp.html">execbase.hpp</a></div><div class="ttdoc">ExecBase (headers) </div></div>
<div class="ttc" id="structstartup__memory_html_a17815c0bbdb623724e2aec003f467655"><div class="ttname"><a href="structstartup__memory.html#a17815c0bbdb623724e2aec003f467655">startup_memory::is_repeat</a></div><div class="ttdeci">static bool is_repeat(void *, void *)</div><div class="ttdoc">Tests to see if two memory locations are aliased to each other. </div><div class="ttdef"><b>Definition:</b> <a href="execbase_8cpp_source.html#l00078">execbase.cpp:78</a></div></div>
<div class="ttc" id="classexec_1_1ExecBase_html_abb318e02b44b0b6d38bd5e5b056119a3"><div class="ttname"><a href="classexec_1_1ExecBase.html#abb318e02b44b0b6d38bd5e5b056119a3">exec::ExecBase::VECTORS</a></div><div class="ttdeci">static const int32_t VECTORS[]</div><div class="ttdef"><b>Definition:</b> <a href="execbase_8hpp_source.html#l00027">execbase.hpp:27</a></div></div>
<div class="ttc" id="group__exec__memory_html_gga21cfd5c98cd8ce112d35cb2e31e194e3aaa7401de82f2d5331fc865c53f2d6226"><div class="ttname"><a href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3aaa7401de82f2d5331fc865c53f2d6226">exec::Heap::MEMF_KICK</a></div><div class="ttdoc">memory available in early startup (V39+) </div><div class="ttdef"><b>Definition:</b> <a href="memory_8hpp_source.html#l00026">memory.hpp:26</a></div></div>
<div class="ttc" id="structexec_1_1Buffer_html_a74d8672ada4e0f656d20520c0382ec50"><div class="ttname"><a href="structexec_1_1Buffer.html#a74d8672ada4e0f656d20520c0382ec50">exec::Buffer::start</a></div><div class="ttdeci">char * start</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8hpp_source.html#l00013">buffer.hpp:13</a></div></div>
<div class="ttc" id="classamiga_1_1Custom_html_a35c824500e88924acb2ecb44cb680f3f"><div class="ttname"><a href="classamiga_1_1Custom.html#a35c824500e88924acb2ecb44cb680f3f">amiga::Custom::color</a></div><div class="ttdeci">void color(size_t offset, uint16_t val) volatile</div><div class="ttdoc">Write a 16 bit value to a COLOR* register. </div><div class="ttdef"><b>Definition:</b> <a href="amiga_8hpp_source.html#l00295">amiga.hpp:295</a></div></div>
<div class="ttc" id="classexec_1_1HeapList_html"><div class="ttname"><a href="classexec_1_1HeapList.html">exec::HeapList</a></div><div class="ttdoc">List of Heap; used as the system memory pool. </div><div class="ttdef"><b>Definition:</b> <a href="memory_8hpp_source.html#l00085">memory.hpp:85</a></div></div>
<div class="ttc" id="classexec_1_1ExecBase_html_aa71e11abc210cadf7d6be60a73a2dd30"><div class="ttname"><a href="classexec_1_1ExecBase.html#aa71e11abc210cadf7d6be60a73a2dd30">exec::ExecBase::idnestcnt</a></div><div class="ttdeci">int8_t idnestcnt</div><div class="ttdoc">interrupt disable nesting count; -1 for enabled, 0 upwards for disabled </div><div class="ttdef"><b>Definition:</b> <a href="execbase_8hpp_source.html#l00083">execbase.hpp:83</a></div></div>
<div class="ttc" id="classamiga_1_1CIA_html"><div class="ttname"><a href="classamiga_1_1CIA.html">amiga::CIA</a></div><div class="ttdoc">An 8520 CIA chip. </div><div class="ttdef"><b>Definition:</b> <a href="amiga_8hpp_source.html#l00035">amiga.hpp:35</a></div></div>
<div class="ttc" id="classexec_1_1ExecBase_html"><div class="ttname"><a href="classexec_1_1ExecBase.html">exec::ExecBase</a></div><div class="ttdoc">exec global data </div><div class="ttdef"><b>Definition:</b> <a href="execbase_8hpp_source.html#l00022">execbase.hpp:22</a></div></div>
<div class="ttc" id="classexec_1_1ExecBase_html_a017acaa7a9496b0a3035d70ad1e21d10"><div class="ttname"><a href="classexec_1_1ExecBase.html#a017acaa7a9496b0a3035d70ad1e21d10">exec::ExecBase::enable</a></div><div class="ttdeci">void enable(void)</div><div class="ttdef"><b>Definition:</b> <a href="execbase_8cpp_source.html#l00614">execbase.cpp:614</a></div></div>
<div class="ttc" id="classexec_1_1Task_html_a517020e559ccb4b6cb1b983406421a93"><div class="ttname"><a href="classexec_1_1Task.html#a517020e559ccb4b6cb1b983406421a93">exec::Task::stack_top</a></div><div class="ttdeci">void * stack_top</div><div class="ttdef"><b>Definition:</b> <a href="todo_8hpp_source.html#l00099">todo.hpp:99</a></div></div>
<div class="ttc" id="types_8hpp_html_a2ba621978a511250f7250fb10e05ffbe"><div class="ttname"><a href="types_8hpp.html#a2ba621978a511250f7250fb10e05ffbe">int32_t</a></div><div class="ttdeci">signed long int32_t</div><div class="ttdoc">32 bit signed type </div><div class="ttdef"><b>Definition:</b> <a href="types_8hpp_source.html#l00015">types.hpp:15</a></div></div>
<div class="ttc" id="structExecBase_1_1Vectors_html"><div class="ttname"><a href="structExecBase_1_1Vectors.html">exec::ExecBase::Vectors</a></div><div class="ttdoc">Implementation of AmigaOS-compatible library functions. </div><div class="ttdef"><b>Definition:</b> <a href="execbase_8cpp_source.html#l00028">execbase.cpp:28</a></div></div>
<div class="ttc" id="structexec_1_1Buffer_html"><div class="ttname"><a href="structexec_1_1Buffer.html">exec::Buffer</a></div><div class="ttdef"><b>Definition:</b> <a href="buffer_8hpp_source.html#l00012">buffer.hpp:12</a></div></div>
<div class="ttc" id="classexec_1_1ExecBase_html_aa3cce8c092fb1de4349c0eb1797b2173"><div class="ttname"><a href="classexec_1_1ExecBase.html#aa3cce8c092fb1de4349c0eb1797b2173">exec::ExecBase::IDSTRING</a></div><div class="ttdeci">static const char IDSTRING[]</div><div class="ttdef"><b>Definition:</b> <a href="execbase_8hpp_source.html#l00029">execbase.hpp:29</a></div></div>
<div class="ttc" id="classexec_1_1ExecBase_html_a52652576d5612517f277404d41b33b97"><div class="ttname"><a href="classexec_1_1ExecBase.html#a52652576d5612517f277404d41b33b97">exec::ExecBase::this_task</a></div><div class="ttdeci">Task * this_task</div><div class="ttdoc">pointer to current task (e.g. 0x00001970) </div><div class="ttdef"><b>Definition:</b> <a href="execbase_8hpp_source.html#l00070">execbase.hpp:70</a></div></div>
<div class="ttc" id="buffer_8hpp_html"><div class="ttname"><a href="buffer_8hpp.html">buffer.hpp</a></div><div class="ttdoc">Memory buffers (headers) </div></div>
<div class="ttc" id="classexec_1_1ResidentArray_html_a81ad496d62f65f039230ce8f2837ae54"><div class="ttname"><a href="classexec_1_1ResidentArray.html#a81ad496d62f65f039230ce8f2837ae54">exec::ResidentArray::initialise</a></div><div class="ttdeci">void initialise(Resident::Flags, uint8_t) const </div><div class="ttdef"><b>Definition:</b> <a href="library_8cpp_source.html#l00362">library.cpp:362</a></div></div>
<div class="ttc" id="group__exec__memory_html_gga21cfd5c98cd8ce112d35cb2e31e194e3ad745e256e723bbcac5e74a7e1b204cb6"><div class="ttname"><a href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3ad745e256e723bbcac5e74a7e1b204cb6">exec::Heap::MEMF_LOCAL</a></div><div class="ttdoc">memory does not vanish on reset (V36+) </div><div class="ttdef"><b>Definition:</b> <a href="memory_8hpp_source.html#l00024">memory.hpp:24</a></div></div>
<div class="ttc" id="classexec_1_1ExecBase_html_a32c76039c0be35e22020250b1167c6d1"><div class="ttname"><a href="classexec_1_1ExecBase.html#a32c76039c0be35e22020250b1167c6d1">exec::ExecBase::task_ready</a></div><div class="ttdeci">TaskList task_ready</div><div class="ttdef"><b>Definition:</b> <a href="execbase_8hpp_source.html#l00117">execbase.hpp:117</a></div></div>
<div class="ttc" id="structstartup__memory_html_a7bebbaab382f4e6a7fc979ef1432e59d"><div class="ttname"><a href="structstartup__memory.html#a7bebbaab382f4e6a7fc979ef1432e59d">startup_memory::is_24bit</a></div><div class="ttdeci">static bool is_24bit(void)</div><div class="ttdoc">Tests to see if the CPU has a 24 or 32 bit address bus. </div><div class="ttdef"><b>Definition:</b> <a href="execbase_8cpp_source.html#l00149">execbase.cpp:149</a></div></div>
<div class="ttc" id="classexec_1_1ExecBase_1_1BootInfo_html_a8565f72d4dcc64c9b1c31cab32a059be"><div class="ttname"><a href="classexec_1_1ExecBase_1_1BootInfo.html#a8565f72d4dcc64c9b1c31cab32a059be">exec::ExecBase::BootInfo::BootInfo</a></div><div class="ttdeci">BootInfo(ExecBase *, char *, char *, char *, char *)</div><div class="ttdef"><b>Definition:</b> <a href="execbase_8cpp_source.html#l00590">execbase.cpp:590</a></div></div>
<div class="ttc" id="structstartup__memory_html"><div class="ttname"><a href="structstartup__memory.html">startup_memory</a></div><div class="ttdoc">A container for startup memory. </div><div class="ttdef"><b>Definition:</b> <a href="execbase_8cpp_source.html#l00046">execbase.cpp:46</a></div></div>
<div class="ttc" id="execbase_8cpp_html_a0cd4e252e1a62ad9b4dac0f8a4dc5b2b"><div class="ttname"><a href="execbase_8cpp.html#a0cd4e252e1a62ad9b4dac0f8a4dc5b2b">ciaa</a></div><div class="ttdeci">static amiga::CIA volatile *const ciaa</div><div class="ttdef"><b>Definition:</b> <a href="execbase_8cpp_source.html#l00041">execbase.cpp:41</a></div></div>
<div class="ttc" id="classexec_1_1HeapList_html_ade9b5866e0c2703c1d6619f092775c0d"><div class="ttname"><a href="classexec_1_1HeapList.html#ade9b5866e0c2703c1d6619f092775c0d">exec::HeapList::allocate</a></div><div class="ttdeci">char * allocate(size_t, Heap::Attributes=Heap::MEMF_PUBLIC, Heap::Options=Heap::MEMF_NONE)</div><div class="ttdoc">Allocate memory. </div><div class="ttdef"><b>Definition:</b> <a href="memory_8cpp_source.html#l00416">memory.cpp:416</a></div></div>
<div class="ttc" id="classexec_1_1HeapList_html_a4e3235be3e645efc6c7a796ef9cf7491"><div class="ttname"><a href="classexec_1_1HeapList.html#a4e3235be3e645efc6c7a796ef9cf7491">exec::HeapList::add</a></div><div class="ttdeci">void add(Heap *)</div><div class="ttdoc">Adds a new Heap to the system. </div><div class="ttdef"><b>Definition:</b> <a href="memory_8cpp_source.html#l00520">memory.cpp:520</a></div></div>
<div class="ttc" id="classexec_1_1ResidentArray_1_1BuilderList_html_a23fbbc813b28bcf036e3426d0e060470"><div class="ttname"><a href="classexec_1_1ResidentArray_1_1BuilderList.html#a23fbbc813b28bcf036e3426d0e060470">exec::ResidentArray::BuilderList::flatten</a></div><div class="ttdeci">ResidentArray * flatten(void)</div><div class="ttdef"><b>Definition:</b> <a href="library_8cpp_source.html#l00332">library.cpp:332</a></div></div>
<div class="ttc" id="group__exec__memory_html_gga21cfd5c98cd8ce112d35cb2e31e194e3a44ef10c1593affe04d646ee3b89096d4"><div class="ttname"><a href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3a44ef10c1593affe04d646ee3b89096d4">exec::Heap::MEMF_PUBLIC</a></div><div class="ttdoc">memory will not be swapped out (unused) </div><div class="ttdef"><b>Definition:</b> <a href="memory_8hpp_source.html#l00021">memory.hpp:21</a></div></div>
<div class="ttc" id="group__exec__memory_html_gga21cfd5c98cd8ce112d35cb2e31e194e3a0be88534be48d0e71a3ffef6d68969b3"><div class="ttname"><a href="group__exec__memory.html#gga21cfd5c98cd8ce112d35cb2e31e194e3a0be88534be48d0e71a3ffef6d68969b3">exec::Heap::MEMF_CHIP</a></div><div class="ttdoc">memory is visible to custom chips </div><div class="ttdef"><b>Definition:</b> <a href="memory_8hpp_source.html#l00022">memory.hpp:22</a></div></div>
<div class="ttc" id="structstartup__memory_html_a7eb1969076b4ca3f72ce0c88b8c5bf94"><div class="ttname"><a href="structstartup__memory.html#a7eb1969076b4ca3f72ce0c88b8c5bf94">startup_memory::startup_memory</a></div><div class="ttdeci">startup_memory(uint32_t start_, uint32_t end_)</div><div class="ttdef"><b>Definition:</b> <a href="execbase_8cpp_source.html#l00052">execbase.cpp:52</a></div></div>
<div class="ttc" id="classexec_1_1ExecBase_html_a4fdd29c6ed87717e4b0ac81f190d8e26"><div class="ttname"><a href="classexec_1_1ExecBase.html#a4fdd29c6ed87717e4b0ac81f190d8e26">exec::ExecBase::disable</a></div><div class="ttdeci">void disable(void)</div><div class="ttdef"><b>Definition:</b> <a href="execbase_8cpp_source.html#l00609">execbase.cpp:609</a></div></div>
<div class="ttc" id="structstartup__memory_html_aa2d778af767376bcd86e4cde7ed6a2ed"><div class="ttname"><a href="structstartup__memory.html#aa2d778af767376bcd86e4cde7ed6a2ed">startup_memory::probe_slow_ram</a></div><div class="ttdeci">void probe_slow_ram(size_t=4096)</div><div class="ttdoc">Probes for Slow RAM. </div><div class="ttdef"><b>Definition:</b> <a href="execbase_8cpp_source.html#l00225">execbase.cpp:225</a></div></div>
<div class="ttc" id="classexec_1_1Library_html"><div class="ttname"><a href="classexec_1_1Library.html">exec::Library</a></div><div class="ttdoc">a system library </div><div class="ttdef"><b>Definition:</b> <a href="library_8hpp_source.html#l00139">library.hpp:139</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jan 19 2016 09:41:24 for openkick by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
